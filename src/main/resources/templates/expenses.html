<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Expenses</title>
  <link rel="stylesheet" href="/css/style.css"/>
</head>
<body>
  <div class="container">
    <h1>Expense Tracker</h1>
    <p><a href="/logout">Logout</a> | <a href="/export/csv">Export CSV</a> | <a href="/export/xlsx">Export XLSX</a></p>
    <form method="post" action="/expenses/add">
      <input name="name" placeholder="Name" required/>
      <input name="amount" placeholder="Amount" type="number" step="0.01" required/>
      <button type="submit">Add</button>
    </form>
    <h3>Expenses</h3>
    <table>
      <thead><tr><th>ID</th><th>Name</th><th>Amount</th><th>Created At</th><th>Action</th></tr></thead>
      <tbody>
        <tr th:each="e : ${expenses}">
          <td th:text="${e.id}">1</td>
          <td th:text="${e.name}">Food</td>
          <td th:text="${e.amount}">100</td>
          <td th:text="${e.createdAt}">2025-01-01</td>
          <td>
            <form th:action="@{'/expenses/delete/' + ${e.id}}" method="post">
              <button type="submit">Delete</button>
            </form>
          </td>
        </tr>
      </tbody>
    </table>
    <h3>Total: <span th:text="${total}">0.00</span></h3>
  </div>
</body>
</html>
